definitions:
  name: 'NEEL Sample with position on the wafer and elemental composition'
  sections:
    Sample:
      base_sections:
        - 'nomad.datamodel.data.EntryData'
      quantities:
        name:
          type: str
          default: NEEL-Sample
        description:
          type: str
          # m_annotations:
            # eln: 
              # component: RichTextEditQuantity
              # label: Comment
        lab_id:
          type: str
        short_name:
          type: str
        owner:
          type: str
          default: 'Nora Dempsey, Pierre le Berre, William Rigaut'
        xpos:
          type: np.float64
          unit: mm
          description: "x- position of the sample on the wafer"
        ypos:
          type: np.float64
          unit: mm
          description: "y- position of the sample on the wafer"
        CoercivityBHcExternal:
          type: np.float64
          unit: A/m
          description: 'Coercivity from MOKE measurements (optional)'

      sub_sections:
        elemental_composition:
          repeats: True
          section:
            base_sections:
              - 'nomad.datamodel.metainfo.basesections.ElementalComposition'
            more:
              label_quantity: element, atomic_fraction
            quantities:
              element:
                type: str
              atomic_fraction:
                type: np.float64
data:
  m_def: Sample
  description: "Data for one sample on a high-throughput wafer produced at Neel within the EU project MaMMoS.\n The extracted data includes the x- and y- position of the sample on the wafer, the chemical elementals measured by EDX and the coercivity measured by MOKE.\n The sample is a NdCeFeB_2-5 alloy. MOKE measurements could have been not performed for all samples, so the value for coercivity is optional."
  lab_id: 'CNRS Institut Neel'
  institute: 'CNRS Institut Neel'
  short_name: '$$NEEL-Sample-001$$'
  owner: 'Nora Dempsey, Pierre le Berre, William Rigaut'

  # possible fields from the .hdf5 file
  # fabrication_date: '13/5/2025'
  # operator: 'Pierre'
  # sample_name: NOMAD_test2

  # 'x_position', 'x_pos' and 'xposition' does not work
  xpos: $$xpos$$
  ypos: $$ypos$$

  CoercivityBHcExternal: $$coercivity$$
  
  elemental_composition:
    - element: $$element$$
      atomic_fraction: $$atomic_fraction$$
